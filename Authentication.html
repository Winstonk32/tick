<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Authentication</title>
  <style>
    .authentication {
      max-width: 400px;
      margin: auto;
      padding: 20px;
      border: 1px solid #ddd;
      border-radius: 8px;
      text-align: center;
    }
    .authentication h2 {
      margin-bottom: 20px;
    }
    .authentication label {
      display: block;
      margin: 10px 0 5px;
    }
    .authentication input {
      width: 100%;
      padding: 8px;
      margin-bottom: 10px;
    }
    .authentication .error {
      color: red;
      margin: 10px 0;
    }
  </style>
</head>
<body>

<div class="authentication">
  <h2 id="auth-title">Login</h2>
  <form id="auth-form">
    <label for="username">Username:</label>
    <input type="text" id="username" required>
    
    <label for="password">Password:</label>
    <input type="password" id="password" required>
    
    <p class="error" id="error-message"></p>
    <button type="submit" id="auth-button">Login</button>
  </form>
  <button id="toggle-auth-mode">Create an account</button>
</div>

<script>
  let isLoginMode = true;

  const authTitle = document.getElementById('auth-title');
  const authButton = document.getElementById('auth-button');
  const toggleAuthModeButton = document.getElementById('toggle-auth-mode');
  const errorMessage = document.getElementById('error-message');
  const authForm = document.getElementById('auth-form');

  toggleAuthModeButton.addEventListener('click', () => {
    isLoginMode = !isLoginMode;
    authTitle.textContent = isLoginMode ? 'Login' : 'Sign Up';
    authButton.textContent = isLoginMode ? 'Login' : 'Sign Up';
    toggleAuthModeButton.textContent = isLoginMode ? 'Create an account' : 'Have an account? Log in';
    errorMessage.textContent = '';
  });

  authForm.addEventListener('submit', (e) => {
    e.preventDefault();

    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;

    if (isLoginMode) {
      handleLogin(username, password);
    } else {
      handleSignup(username, password);
    }
  });

  function handleLogin(username, password) {
    const userData = JSON.parse(localStorage.getItem(username));

    if (userData && userData.password === password) {
      alert('Login successful!');
      errorMessage.textContent = '';
      // Redirect or load user data as needed
    } else {
      errorMessage.textContent = 'Invalid username or password';
    }
  }

  function handleSignup(username, password) {
    if (localStorage.getItem(username)) {
      errorMessage.textContent = 'Username already exists';
      return;
    }

    const newUser = {
      username,
      password
    };

    localStorage.setItem(username, JSON.stringify(newUser));
    alert('Account created successfully!');
    errorMessage.textContent = '';
    isLoginMode = true;
    authTitle.textContent = 'Login';
    authButton.textContent = 'Login';
    toggleAuthModeButton.textContent = 'Create an account';
  }
</script>

</body>
</html>
